<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Carlisle Rainey - POLS 209</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-F57WQLHH67"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-F57WQLHH67', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Carlisle Rainey - POLS 209">
<meta property="og:description" content="">
<meta property="og:site-name" content="Carlisle Rainey">
<meta name="twitter:title" content="Carlisle Rainey - POLS 209">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://www.carlislerainey.com/profile-tw.png">
<meta name="twitter:creator" content="@carlislerainey">
<meta name="twitter:image-height" content="533">
<meta name="twitter:image-width" content="800">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Carlisle Rainey</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching/index.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks/index.html" rel="" target="">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../email-list/index.html" rel="" target="">
 <span class="menu-text">Email List</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="../../blog/index.xml" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-rss"></i></a>
    <a href="https://twitter.com/carlislerainey" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://sciences.social/@CarlisleRainey" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-mastodon"></i></a>
    <a href="https://github.com/carlislerainey" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">POLS 209</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="introduction-to-political-science-research-methods" class="level1">
<h1>Introduction to Political Science Research Methods</h1>
<p>syllabus [<a href="files/syllabus.pdf">pdf</a>]<br>
assigned exercises from FPP [<a href="files/fpp-exercises.pdf">pdf</a>]<br>
data sets [<a href="data/data.zip">zip</a>]</p>
<ul>
<li>Writing Assignment 1 [<a href="https://www.dropbox.com/s/jfq0quuzklroesq/writing-assignment-1.docx?dl=0">Dropbox</a>]<br>
</li>
<li>Rubric [<a href="https://www.dropbox.com/s/zkz7nv7jt0dkquf/Rubric-Writing%20Assignment%201.pdf?dl=0">Dropbox</a>]<br>
</li>
<li>Writing Assignment 2 [<a href="https://www.dropbox.com/s/e09ssdffbd4yqiv/writing-assignment-2.pdf?dl=0">Dropbox</a>] [<a href="https://www.dropbox.com/s/cdb7o9tokuxio2c/Rubric%20and%20Checklist-Writing%20Assignment%202.docx?dl=0">checklist</a>]</li>
</ul>
<section id="office-hours" class="level2">
<h2 class="anchored" data-anchor-id="office-hours">Office Hours</h2>
<p>Allen 2051, MW, 11am-12pm. Please reserve your slot <a href="http://www.calendly.com/carlislerainey">here</a>.</p>
</section>
<section id="schedule" class="level2">
<h2 class="anchored" data-anchor-id="schedule">Schedule</h2>
<p>Tasks (bullets) below the date should be completed before the next class (unless a due-date is listed).</p>
<p><strong>August 30</strong>: Introduction<br>
. Read the syllabus carefully.<br>
. Install R and RStudio (complete by Sep 6).<br>
. Order textbook (have by Sep 11).<br>
. Obtain a pocket calculator (have by Sep 11).</p>
<p><strong>Sep 1</strong>: Questions<br>
. Review Notes on Questions [<a href="files/notes-02-questions.pdf">pdf</a>]. Complete exercises.</p>
<p><strong>Sep 4</strong>: Models<br>
. Review Notes on Models [<a href="files/notes-03-models.pdf">pdf</a>] (and slides from lecture [<a href="files/slides-03-models.pdf">pdf</a>]). Complete exercises.<br>
. Install R and RStudio.</p>
<p><strong>Sep 6</strong>: Model-Building Exercise</p>
<p><strong>Sep 8</strong>: Computing in R</p>
<p><strong>Sep 11</strong>: Computing in R, part 2<br>
. Read Notes on Computing in R [<a href="files/notes-04-computing.pdf">pdf</a>]. Complete exercises.</p>
<p><strong>Sep 13</strong>: Loading Data in R . Review your notes from my Lecture on Data Frames [<a href="files/data-frames.pdf">pdf</a>].<br>
. Review Notes on Loading Data in R [<a href="files/notes-05-loading-data.pdf">pdf</a>]. Complete exercises.<br>
. Complete Computing Assignment 1 [<a href="files/r-assign-01.pdf">pdf</a>].</p>
<p><strong>Sep 15</strong>: Causal Inference and Histograms<br>
. Have textbook and calculator.<br>
. Read chs.&nbsp;1-2 of FPP. Complete assigned exercises (remember that assigned exercises are [<a href="files/fpp-exercises.pdf">at the top</a>]).<br>
. Review your notes from my Lecture on Causal Inference [<a href="files/slides-06-causal-inf.pdf">pdf</a>]. Complete exercises at the end.<br>
. Read ch.&nbsp;3 of FPP. Complete assigned exercises.</p>
<p><strong>Sep 18</strong>: Histograms in R<br>
. Review Notes on Histograms in R [<a href="files/notes-08-histograms-r.pdf">pdf</a>]. Complete exercises.<br>
. Begin to work on Computing Assignment 2 [<a href="files/r-assign-02.pdf">pdf</a>] (due Sep 22).</p>
<p><strong>Sep 20</strong>: Average and SD<br>
. Read ch.&nbsp;4 of FPP. Complete assigned exercises.<br>
. Submit Computing Assignment 2 [<a href="files/r-assign-02.pdf">pdf</a>].</p>
<p><strong>Sep 22</strong>: Catch-Up Day<br>
. Begin working on Writing Assignment 1 [<a href="https://www.dropbox.com/s/jfq0quuzklroesq/writing-assignment-1.docx?dl=0">Dropbox</a>]. Come prepared with questions.</p>
<p><strong>Sep 25</strong>: Average and SD in R<br>
. Review your notes from my Lecture on Average and SD in R [<a href="files/mean-sd.pdf">pdf</a>].<br>
. Review Notes on Average and SD in R [<a href="files/notes-10-average-sd-r.pdf">pdf</a>]. Complete exercises.<br>
. Begin working on Computing Assignment 3 [<a href="files/r-assign-03.pdf">pdf</a>].</p>
<p><strong>Sep 27</strong>: Normal Approximation<br>
. Read ch.&nbsp;5 of FPP. Complete assigned exercises.<br>
. Finish the leadership extremity exercise we began in class [<a href="files/leadership-extremity.pdf">pdf</a>].<br>
. Submit Computing Assignment 3 [<a href="files/r-assign-03.pdf">pdf</a>].</p>
<p><strong>Sep 29</strong>: Measurement<br>
. Read ch.&nbsp;6 of FPP. Complete assigned exercises.<br>
. Prepare for Exam 1. Focus on the review exercises from notes, slides, and textbook.</p>
<p><strong>Oct 2</strong>: Review for Exam 1<br>
. Study Guide [<a href="https://docs.google.com/document/d/19WF7hCjFCnCWdCwYDDisxWmMCUmapI4wJdb-rnOdsuo/edit?usp=sharing">Google Doc</a>]</p>
<p><strong>Oct 4</strong>: Exam 1 (bring pencil, pocket calculator, and small green Scantron)<br>
. Read “Politics and the English Language” [<a href="https://faculty.washington.edu/rsoder/EDLPS579/HonorsOrwellPoliticsEnglishLanguage.pdf">pdf</a>]. Expect a reading quiz.</p>
<p><strong>Oct 6</strong>: Discussion of “Politics and the English Language”Scatterplots and Correlation, Part 1<br>
. Read chs.&nbsp;7-8 of FPP. Complete assigned exercises.<br>
. See this sheet for p.&nbsp;137, #9(a) [<a href="https://docs.google.com/spreadsheets/d/1Y2EuRIcbuZk6eu9WWUaNXSWnqJMi9XBXrA27BzqSeKk/edit?usp=sharing">Google Sheet</a>].</p>
<p><strong>Oct 9</strong>: Measurement, Part 2<br>
. Review your notes from my Lecture on Measurement [<a href="files/measures.pdf">pdf</a>]. Complete exercises at the end.</p>
<p><strong>Oct 11</strong>: Scatterplots and Correlation in R<br>
. Review Notes on Scatterplots and Correlation in R [<a href="files/notes-18-correlation-r.pdf">pdf</a>]. Complete exercises.<br>
. Read ch.&nbsp;9 of FPP. Complete assigned exercises.<br>
. Play this game [<a href="http://www.rossmanchance.com/applets/GuessCorrelation.html">web</a>] and track your performance.<br>
. Don’t forget to submit Writing Assignment 1.</p>
<p><strong>Oct 13</strong>: Regression, Part 1<br>
. Read ch.&nbsp;10 of FPP. Complete assigned exercises.</p>
<p><strong>Oct 16</strong>: Regression, Part 2<br>
. Read ch.&nbsp;11 of FPP. Complete assigned exercises.<br>
. Note that I accidentally assigned ch.&nbsp;11 on the 13th as well. I meant to assign ch.&nbsp;10. Make sure you’ve finished both ch.&nbsp;10 and 11.<br>
. Begin Computing Assignment 4 [<a href="files/r-assign-04.pdf">pdf</a>].</p>
<p><strong>Oct 18</strong>: Regression, Part 3<br>
. Read ch.&nbsp;12 of FPP. Complete assigned exercises.<br>
. Submit Computing Assignment 4 [<a href="files/r-assign-04.pdf">pdf</a>].<br>
. Submit peer review for Writing Assignment 1. Details on eCampus.</p>
<p><strong>Oct 20</strong>: Regression in R<br>
. Review Notes on Regression in R [<a href="files/notes-23-regression-r.pdf">pdf</a>]. Complete exercises.</p>
<p><strong>Oct 23</strong>: Multiple Regression, Part 1</p>
<p><strong>Oct 25</strong>: Multiple Regression, Part 2<br>
. Review your notes on my lecture on econometric notation. Make sure you can explain the similarities and differences between FPP’s simple notation and the more complicated econometric notation. What are the two advantages of econometric notation?<br>
. Review your notes on my lecture [<a href="files/slides-regression.pdf">pdf</a>] on regression for prediction.<br>
. Read these notes [<a href="files/notes-multiple-regression-r.pdf">pdf</a>] for more detail on prediction and BIC.<br>
. Complete Computing Assignment 5 [<a href="files/r-assign-05.pdf">pdf</a>].<br>
. Read “5 Steps toward Constructing a Better Sentence” [<a href="https://eebatou.wordpress.com/2011/09/02/writing-5-steps-toward-constructing-a-better-sentence/">web</a>].<br>
. Read “5 Steps toward Writing an Effective Paragraph” [<a href="https://eebatou.wordpress.com/2007/01/21/5-steps-to-a-writing-an-effective-paragraph/">web</a>].<br>
. Use this example response memo [<a href="files/response-memo-example.pdf">pdf</a>] when writing your own response memo.</p>
<p><strong>Oct 27</strong>: “Breakfast with Ben”</p>
<p><strong>Oct 30</strong>: Exam 2 Review<br>
. Study Guide [<a href="https://docs.google.com/document/d/1aRe1GgbJhoUTltteX-WPEJb-ImDVXq4FHz4QMuhThBY/edit?usp=sharing">Google Doc</a>]</p>
<p><strong>Nov 1</strong>: Exam 2 (bring pencil, pocket calculator, and small green Scantron)<br>
. Final submission of Writing Assignment 1.</p>
<p><strong>Nov 3</strong>: Probability, Part 1<br>
. We’ll look at the Federalist papers [<a href="http://www.foundingfathers.info/federalistpapers/fedindex.htm">web</a>] in class.<br>
. Read ch.&nbsp;13 of FPP. Complete assigned exercises.</p>
<p><strong>Nov 6</strong>: Probability, Part 2<br>
. Read ch.&nbsp;14 of FPP. Complete assigned exercises.<br>
. Submit peer review by noon on July 26.</p>
<p><strong>Nov 8</strong>: Law of Averages<br>
. Read ch.&nbsp;16 of FPP. Complete assigned exercises.</p>
<p><strong>Nov 10</strong>: Expected Value and Standard Error<br>
. Read ch.&nbsp;17 of FPP. Complete assigned exercises.<br>
. Begin Writing Assignment 2 [<a href="https://www.dropbox.com/s/e09ssdffbd4yqiv/writing-assignment-2.pdf?dl=0">Dropbox</a>]</p>
<p><strong>Nov 13</strong>: Normal Approximation for Probability Histograms<br>
. Read ch.&nbsp;18 of FPP. Complete assigned exercises. . In class, fill in this table [<a href="https://docs.google.com/spreadsheets/d/1uiBoSY49F_o3C9_H_9cpaAFtP9Cpby16z9XW_aymZXc/edit?usp=sharing">Google Sheet</a>].<br>
. In class, use these slides as needed [<a href="https://docs.google.com/presentation/d/1SOUFFnB3VvILGscV5qOGxJnKJjHIHdbhFzxyB7SEJ8Y/edit?usp=sharing">Google Slides</a>].</p>
<p><strong>Nov 15</strong>: Sample Surveys, Part 1<br>
. Read ch.&nbsp;19 of FPP. Complete assigned exercises.</p>
<p><strong>Nov 17</strong>: Sample Surveys, Part 2<br>
. Read ch.&nbsp;20 of FPP. Complete assigned exercises.</p>
<p><strong>Nov 20</strong>: FSAB Panel Day<br>
. Catch-up on any review exercises you haven’t done.<br>
. Writing Assignment 2 due (postponed to Tuesday, Nov.&nbsp;28).</p>
<p><strong>Nov 22</strong>: No Class (Reading Day)</p>
<p><strong>Nov 24</strong>: No Class (Thanksgiving Holiday)</p>
<p><strong>Nov 27</strong>: Catch-up Day<br>
. Make sure you’ve read through ch.&nbsp;20 of FPP and completed assigned exercises.</p>
<p><strong>Nov 29</strong>: The Accuracy of Percentages<br>
. Read ch.&nbsp;21 of FPP. Complete assigned exercises.</p>
<p><strong>Dec 1</strong>: The Accuracy of Averages<br>
. Read ch.&nbsp;23 of FPP. Complete assigned exercises.</p>
<p><strong>Dec 4</strong>: Hypothesis Tests . Read ch.&nbsp;26 of FPP. Complete assigned exercises.</p>
<p><strong>Dec 6</strong>: Final Exam Review<br>
. Example problem for hypothesis test and 95% CI for percent [<a href="https://www.dropbox.com/s/e7glla0sqomku5h/ci-and-p-for-percent.pdf?dl=0">Dropbox</a>].<br>
. Final submission of Writing Assignment 2 due.<br>
. Study Guide [<a href="https://docs.google.com/document/d/1svjCL8aK1YyL8yGnbHgnqU9MJpLwdLLniqcgwTr6Kso/edit?usp=sharing">Google Doc</a>]</p>
<p><strong>Dec 8 or 11</strong>: Final Exam (bring pencil, pocket calculator, and small green Scantron) . For 901 (8:35-9:25am), 10am-12pm on Dec 8<br>
. For 902 (9:45-10:35am), 8-10am on Dec 11</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>